(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelector("#api-key"),t=document.querySelector("#page-url"),o=localStorage.getItem("notionApiKey"),n=localStorage.getItem("notionPageUrl");if(!i||!t)throw new Error("APIキーまたは親ページURLが見つかりません。");o&&(i.value=o),n&&(t.value=n)});document.addEventListener("DOMContentLoaded",()=>{const i=document.getElementById("send-button");if(!i)throw new Error("send-buttonが見つかりません！");i.addEventListener("click",()=>{const t=document.querySelector("#api-key"),o=document.querySelector("#page-url");if(!t||!o)throw new Error("APIキーまたは親ページURLが見つかりません。");if(t.value===""||o.value===""){alert("APIキーと親ページURLを入力してください。");return}localStorage.setItem("notionApiKey",t.value),localStorage.setItem("notionPageUrl",o.value),chrome.tabs.query({active:!0,currentWindow:!0},n=>{n.length>0&&n[0].id!==void 0&&chrome.runtime.sendMessage({action:"startExtension",apiKey:t.value,pageUrl:o.value},e=>{alert(e?e.message:"レスポンスがありませんでした。")}),console.log("backgroundにメッセージを送信しました！")})})});
